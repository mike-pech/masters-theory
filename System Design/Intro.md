Курс про проектирование масштабируемых систем.

Масштабирование, как мы помним, отвечает за поведение системы при повышенных нагрузках. Банально при увеличении количества юзеров система должна будет рассчитать и грамотно использовать свои ресурсы для работы.

## Как спроектировать систему?

На примере интервью на позицию System Design — нужен фреймворк для того, чтобы проектировать высоконагруженную систему.
## Фреймворк

![[Pasted image 20250909082743.png]]

#### Уточнить требования. Что именно мы строим?

Распрашиваем-распрашиваем интервьюера/аналитику. Требования делятся на функциональные (что конкретно делает система) и нефункциональные (насколько хорошо система должна работать).

![[Pasted image 20250909083148.png]]
Пример требований

> [!INFO] Нефункциональные требования напрямую определяют архитектуру
> Например, если это банковская система, то лучше ACID, если соцсеть — то BASE
#### Определить API

Что у нас за API и как он работает?
#### Насколько большая система?

Оцениваем трафик — сколько запросов в секунду/сколько пользователей в день

Цифра берётся сверху (заведомо выше) либо берётся промежуток

Далее оценивается хранение данных. Сколько места нужно для хранения пользовательских данных. Также рассматривается верхняя граница и желательно также рассмотреть систему на несколько лет вперёд.

Далее рассмотреть нетворкинг — приоритет на чтение или запись. В первом случае можно оптимизировать чтение кэшированием
#### Определить модель данных?

Как структурировать пользовательские данные. Как мы спроектируем базу данных? Какую базу данных использовать?
#### Общий набросок дизайна

Рисуем диаграмму, где определяем основные компоненты системы — базы данных, сервера, контейнеры, кэши и как всё это связано
#### Более детальный API

1–2 компонента разобрать более детально
#### Узкие места и trade-offs 

Ищем:
- Single Point of Failure — единые точки отказа
- Узкие места архитектуры — тут нужны компромиссы — строгая согласованность против доступности системы, сложность против мэйнтэйнабилити 
## Что по итогу?

- Структурированный подход важен
- Определять что и зачем мы проектируем
- Думать о масштабе — многие решения зависят от того, какой масштаб у системы — можно ли делать бэкапы или лучше сэкономить в пользу доступности системы
- Рассматривай компромиссы

Используем [ADR](https://habr.com/ru/companies/otus/articles/840412/) — во время практики загружаем Mermaid или UML на гитхаб и даём комментарии по ходу.