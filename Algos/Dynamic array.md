Динамически расширяемый массив — это структура данных, расширяемая по мере своего заполнения.

Обычный массив — это ссылочный тип на основе последовательных данных. Имеет свои ограничения ввиду того, что его размер нельзя изменить. придётся переопределить массив переопределив память.

Динамический массив скрывает эту операцию от пользователя.

Есть два параметра: 
- size — номинальный размер массива для пользователя
- capacity — реальное количество ячеек памяти, под которое выделен массив. если size превышает capacity, динамический массив увеличивает capacity, переопределяясь на новое место в памяти.
таким образом, если мы не превышаем capacity, то мы можем быстро увеличить size и добавить элемент

**Сложность добавления** — константа `1` или (худший случай) `n`

Но так как мы добавляем элементы по ходу работы программы, нам нужно учитывать сложность в конексте
![[Pasted image 20250925194644.png]]

Худший случай происходит с периодичностью — раз скрипя зубами расширили со сложностью n и далее size-1 раз расширяем безболезненно

Поэтому в среднем это o(1), но иногда o(n) — нельзя сказать, что это чистая 1, но она "амортизирована"

![[Pasted image 20250925195124.png]]
## амортизированная сложность

Динамические массивы хорошо демонстрируют пример амортизированной сложности — в среднем трудоёмкость операции добавления элемента мала, но есть редкие случаи (когда добавление выше capacity), когда операция требует больше времени. В таких ситуациях мы рассматриваем структуру данных в перспективе и говорим не про абсолютную, а про амортизированную сложность

> Операция имеет амортизированную сложность o(f(n)), если для любой последовательности из n операций общая трудоёмкость <= c * n * f(n) (c — константа)

То есть *средняя* стоимость одной операции — o(n) 
